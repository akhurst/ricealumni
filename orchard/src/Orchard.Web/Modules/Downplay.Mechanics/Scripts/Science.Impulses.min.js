(function(){var e,t,o,s,h,n,r,u,f,c={}.hasOwnProperty,i=function(n,t){function r(){this.constructor=n}for(var i in t)c.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};t=this.Delta=(r=this.Delta)!=null?r:{},n=this.Science=(u=this.Science)!=null?u:{},t.Namespace("Science.Impulses"),t.Require("Delta.Entities"),n.Impulses.HtmlLoader=o=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t}(t.Entities.BaseEntity),n.Impulses.ImpulseHijacker=h=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.onInitialize=function(){var n;return n=this,$("a[data-impulse]").live("click",function(t){return n.ImpulseClicked($(this),t)}),$("a[data-impulse]").live("mousedown",function(t){return n.ImpulseMouseDown($(this),t)}),$("a[data-impulse]").live("mouseup",function(t){return n.ImpulseMouseUp($(this),t)})},t.prototype.ImpulseMouseDown=function(){},t.prototype.ImpulseMouseUp=function(){},t.prototype.ImpulseClicked=function(n,t){var i,r;return r=this.ImpulseFromEntity(n),i=this.Raise("ActuateImpulse",r),i.Actuated?(t.preventDefault(),t.stopPropagation()):void 0},t.prototype.ImpulseFromEntity=function(n){return{ImpulseName:n.attr("data-impulse-name")}},t.prototype.onLoadedHtml=function(n){var t,i;return t=n.$,i=this,t.find("a[data-impulse]").each(function(){var n;return n=$(this),i.PrimeImpulse(n,t)})},t.prototype.PrimeImpulse=function(){},t}(t.Entities.BaseEntity),n.Impulses.ImpulseHandler=s=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.ImpulseName="",t.prototype.onActuateImpulse=function(n){return n.ImpulseName===this.ImpulseName&&this.Actuate(n)&&(n.Actuated=!0),n.Actuated},t.prototype.Actuate=function(){return!1},t}(t.Entities.BaseEntity),n.Impulses.Defaults=(f=n.Impulses.Defaults)!=null?f:{},n.Impulses.Defaults.DeleteConnectorImpulseHandler=e=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,n),t.prototype.ImpulseName="DeleteConnector",t.prototype.Actuate=function(){return!1},t}(n.Impulses.ImpulseHandler),t.Ready(function(){var n;return n=function(){return $("[data-impulses-context-menu-open=true]").attr("data-impulses-context-menu-open",null),$("[data-impulses-context-menu]").remove()},$("*").live("click",function(t){var i,r;switch(t.which){case 1:return r=$(this).parents("[data-impulses-context-menu]"),r.length?(t.preventDefault(),$.impulses.trigger(this)):n();case 3:if(i=$(this).parents("[data-impulses]").first(),i)return t.preventDefault(),i.attr("data-impulse-context-menu-open","true")}})})}).call(this)